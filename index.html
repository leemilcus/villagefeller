<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Village Feller - Professional Tree Felling Services</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2e7d32;
            --primary-dark: #1b5e20;
            --secondary: #4caf50;
            --light: #f9f9f9;
            --dark: #333;
            --gray: #666;
            --white: #fff;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            overflow-x: hidden;
            position: relative;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1, h2, h3, h4 {
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        
        p {
            margin-bottom: 1rem;
        }
        
        img {
            max-width: 100%;
            height: auto;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--primary);
            color: var(--white);
            text-decoration: none;
            border-radius: 4px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid white;
            color: white;
        }
        
        .btn-outline:hover {
            background-color: var(--primary);
            color: var(--white);
        }
        
        section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }
        
        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 3px;
            background-color: var(--primary);
            margin: 10px auto 0;
        }
        
        /* ========== ADMIN PORTAL STYLES ========== */
        
        /* Floating Admin Button */
        .floating-admin-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 999;
            background-color: var(--primary);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            border: none;
            font-size: 24px;
        }
        
        .floating-admin-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 25px rgba(46, 125, 50, 0.4);
        }
        
        .floating-admin-btn.admin-active {
            background-color: #FF9800;
        }
        
        .floating-admin-btn.admin-active:hover {
            background-color: #EF6C00;
        }
        
        /* Mode Toggle */
        .mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
            display: flex;
            gap: 8px;
            background: white;
            padding: 8px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid #d1d1d1;
            display: none; /* Hidden by default */
        }
        
        .mode-toggle-btn {
            padding: 6px 12px;
            background: #f8f9fa;
            border: 1px solid #d1d1d1;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .mode-toggle-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .mode-toggle-btn:hover:not(.active) {
            background: #E8F5E9;
        }
        
        /* Admin/Main visibility */
        .admin-mode #main-website {
            display: none;
        }
        
        .main-mode #admin-portal {
            display: none;
        }
        
        /* Show mode toggle when in admin mode */
        .admin-mode .mode-toggle {
            display: flex;
        }
        
        /* Main website container */
        #main-website {
            position: relative;
            width: 100%;
            overflow-x: hidden;
        }
        
        /* Admin portal container */
        #admin-portal {
            min-height: 100vh;
            background: #f8f9fa;
            padding-top: 80px; /* Space for mode toggle */
        }
        
        /* Admin Header */
        .admin-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 40px;
            border-radius: 8px;
            margin-bottom: 40px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            width: 100%;
        }
        
        .admin-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .admin-header p {
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .back-to-site {
            display: inline-block;
            color: white;
            text-decoration: none;
            margin-top: 20px;
            font-weight: 500;
            padding: 10px 20px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .back-to-site:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }
        
        .back-to-site i {
            margin-right: 8px;
        }
        
        /* Admin Content */
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
        }
        
        .admin-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 40px;
            width: 100%;
        }
        
        @media (max-width: 992px) {
            .admin-content {
                grid-template-columns: 1fr;
            }
        }
        
        /* Admin Card */
        .admin-card {
            background-color: var(--white);
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
            width: 100%;
        }
        
        .admin-card h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
        }
        
        /* File Upload Styles */
        .file-upload-container {
            border: 2px dashed #d1d1d1;
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            background-color: #f8f9fa;
            width: 100%;
        }
        
        .file-upload-container:hover {
            border-color: var(--primary);
            background-color: #E8F5E9;
        }
        
        .file-upload-container.drag-over {
            border-color: #FF9800;
            background-color: rgba(255, 152, 0, 0.1);
        }
        
        .file-upload-icon {
            font-size: 48px;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .file-upload-text h4 {
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .file-upload-text p {
            color: var(--gray);
            margin-bottom: 15px;
            font-size: 14px;
        }
        
        .file-input {
            display: none;
        }
        
        .file-upload-btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: var(--primary);
            color: white;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .file-upload-btn:hover {
            background-color: var(--primary-dark);
        }
        
        .selected-file {
            display: flex;
            align-items: center;
            background-color: #E8F5E9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
            width: 100%;
        }
        
        .selected-file.active {
            display: flex;
        }
        
        .file-icon {
            margin-right: 15px;
            color: var(--primary);
            font-size: 24px;
        }
        
        .image-preview {
            width: 100%;
            height: 200px;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
            display: none;
            border: 1px solid #d1d1d1;
        }
        
        .image-preview.active {
            display: block;
        }
        
        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Form Styles */
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #d1d1d1;
            border-radius: 4px;
            font-family: inherit;
            font-size: 16px;
            transition: all 0.3s ease;
            background-color: #f8f9fa;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.1);
        }
        
        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        /* Gallery Management */
        .gallery-management {
            margin-top: 40px;
            width: 100%;
        }
        
        .gallery-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
            width: 100%;
        }
        
        @media (max-width: 768px) {
            .gallery-list {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }
        
        .gallery-item {
            background-color: var(--white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .gallery-item img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }
        
        .gallery-item-info {
            padding: 15px;
        }
        
        .category-badge {
            display: inline-block;
            padding: 4px 10px;
            background-color: #E8F5E9;
            color: var(--primary);
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        /* Messages */
        .message {
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 500;
            width: 100%;
        }
        
        .message.success {
            background-color: #e8f5e9;
            color: var(--primary);
            border: 1px solid #c8e6c9;
        }
        
        .message.error {
            background-color: #ffebee;
            color: #e53935;
            border: 1px solid #ffcdd2;
        }
        
        .message.info {
            background-color: #e3f2fd;
            color: #1565c0;
            border: 1px solid #bbdefb;
        }
        
        /* Login Form */
        .login-container {
            max-width: 400px;
            margin: 100px auto;
            width: 100%;
            padding: 0 20px;
        }
        
        .login-form {
            background-color: var(--white);
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            width: 100%;
        }
        
        .password-hint {
            font-size: 12px;
            color: var(--gray);
            margin-top: 5px;
            font-style: italic;
        }
        
        .storage-info {
            background-color: #E8F5E9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
            font-size: 14px;
            color: var(--gray);
            width: 100%;
        }
        
        /* Loading Spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Header Styles */
        header {
            background-color: var(--white);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: all 0.3s;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
        }
        
        .logo {
            height: 50px;
            width: auto;
        }
        
        .logo-text {
            font-size: 1.8rem;
            margin-left: 10px;
            color: var(--primary);
            font-weight: 700;
        }
        
        .professional-label {
            background-color: var(--primary);
            color: var(--white);
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: 4px;
            margin-left: 10px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav li {
            margin-left: 30px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }
        
        nav a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--primary);
            transition: width 0.3s;
        }
        
        nav a:hover {
            color: var(--primary);
        }
        
        nav a:hover:after {
            width: 100%;
        }
        
        .header-cta {
            margin-left: 20px;
        }
        
        .mobile-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--primary);
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('./img/hero.jpeg');
            background-size: cover;
            background-position: center;
            color: var(--white);
            text-align: center;
            padding: 180px 0 100px;
            margin-top: 70px;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        /* About Section */
        .about {
            background-color: var(--light);
        }
        
        .about-content {
            display: flex;
            align-items: center;
            gap: 50px;
        }
        
        .about-text {
            flex: 1;
        }
        
        .about-image {
            flex: 1;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .about-image img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .about-image:hover {
            transform: scale(1.02);
        }
        
        /* Services Section */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .service-card {
            background-color: var(--white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .service-card:hover {
            transform: translateY(-10px);
        }
        
        .service-image {
            height: 200px;
            background-size: cover;
            background-position: center;
        }
        
        .service-content {
            padding: 20px;
        }
        
        .service-content h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .service-content p {
            margin-bottom: 15px;
            color: var(--gray);
        }
        
        /* Why Choose Us Section */
        .why-choose-us {
            background-color: var(--light);
        }
        
        .why-content {
            display: flex;
            gap: 50px;
        }
        
        .why-column {
            flex: 1;
        }
        
        .why-column h3 {
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .why-column ul {
            list-style: none;
            margin-bottom: 30px;
        }
        
        .why-column li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 25px;
        }
        
        .why-column li:before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
        }
        
        /* Portfolio Section */
        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .portfolio-item {
            border-radius: 8px;
            overflow: hidden;
            height: 200px;
            background-size: cover;
            background-position: center;
            position: relative;
            cursor: default;
        }
        
        /* Achievements Section */
        .achievements {
            background-color: var(--primary);
            color: var(--white);
            text-align: center;
        }
        
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
        }
        
        .achievement-item h3 {
            font-size: 3rem;
            margin-bottom: 10px;
        }
        
        .counter {
            font-size: 3rem;
            font-weight: bold;
        }
        
        /* Testimonials Section */
        .testimonials {
            position: relative;
            overflow: hidden;
        }
        
        .testimonial-slider {
            position: relative;
            max-width: 1000px;
            margin: 0 auto;
            overflow: hidden;
        }
        
        .testimonial-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        
        .testimonial-slide {
            min-width: 100%;
            padding: 0 15px;
            box-sizing: border-box;
        }
        
        .testimonial-card {
            background-color: var(--white);
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .testimonial-card:hover {
            transform: translateY(-5px);
        }
        
        .testimonial-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .testimonial-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin-right: 15px;
            background-color: #ddd;
            background-size: cover;
            background-position: center;
        }
        
        .testimonial-info h4 {
            margin-bottom: 5px;
        }
        
        .testimonial-rating {
            color: #ffc107;
        }
        
        .testimonial-text {
            flex-grow: 1;
            margin-bottom: 0;
        }
        
        /* Testimonial Navigation */
        .testimonial-nav {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 30px;
        }
        
        .testimonial-dots {
            display: flex;
            gap: 10px;
        }
        
        .testimonial-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ddd;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .testimonial-dot.active {
            background-color: var(--primary);
        }
        
        .testimonial-arrow {
            background: var(--primary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin: 0 15px;
            transition: background-color 0.3s;
            font-size: 16px;
        }
        
        .testimonial-arrow:hover {
            background-color: var(--primary-dark);
        }
        
        /* Contact Section */
        .contact {
            background-color: var(--light);
        }
        
        .contact-container {
            display: flex;
            gap: 50px;
        }
        
        .contact-form {
            flex: 1;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
            transition: border 0.3s;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .contact-info {
            flex: 1;
        }
        
        .contact-details {
            margin-bottom: 30px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .contact-icon {
            width: 40px;
            height: 40px;
            background-color: var(--primary);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }
        
        /* Footer */
        footer {
            background-color: var(--primary-dark);
            color: var(--white);
            padding: 60px 0 30px;
        }
        
        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            color: var(--secondary);
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--secondary);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #ffffff;
            color: #dad8d8;
            font-size: 0.9rem;
        }
        
        .footer-logo {
            height: 100px;
            width: auto;
            margin-bottom: 15px;
        }
        
        /* Responsive Styles */
        @media (max-width: 992px) {
            .about-content, .why-content, .contact-container {
                flex-direction: column;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .admin-content {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .header-container {
                flex-wrap: wrap;
            }
            .header-cta {
                display: none;
            }
            
            .header-container {
                justify-content: space-between;
            }
            
            nav {
                width: 100%;
                order: 3;
                margin-top: 15px;
                display: none;
            }
            
            nav.active {
                display: block;
            }
            
            nav ul {
                flex-direction: column;
            }
            
            nav li {
                margin: 10px 0;
            }
            
            .mobile-menu {
                display: block;
            }
            
            .header-cta {
                margin-left: auto;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .logo-text {
                font-size: 1.5rem;
            }
            
            .testimonial-arrow {
                width: 35px;
                height: 35px;
                margin: 0 10px;
            }
            
            .gallery-list {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .admin-container {
                padding: 10px;
            }
            
            .admin-card {
                padding: 20px;
            }
            
            .file-upload-container {
                padding: 30px 15px;
            }
        }
        
        /* Animation for counters */
        @keyframes countUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .counting {
            animation: countUp 1s ease-out;
        }

        .footer-bottom .brand-name {
            color: rgb(9, 255, 0);
            transition: color 0.3s ease;
        }

        .footer-bottom .brand-name:hover {
            color: rgb(255, 255, 255);
        }
    </style>
</head>
<body class="main-mode">
    <!-- Floating Admin Button -->
    <button class="floating-admin-btn" id="floatingAdminBtn" title="Admin Portal">
        <i class="fas fa-cog"></i>
    </button>
    
    <!-- Mode Toggle (shown only in admin mode) -->
    <div class="mode-toggle">
        <button class="mode-toggle-btn active" data-mode="main">Website</button>
        <button class="mode-toggle-btn" data-mode="admin">Admin</button>
    </div>
    
    <!-- Main Website -->
    <div id="main-website">
        <!-- Header & Navigation -->
        <header>
            <div class="container header-container">
                <div class="logo-container">
                    <div class="logo">
                        <img src="img/logoo.png" alt="Village Feller Logo" style="height: 70px;">
                    </div>
                </div>
                
                <div class="mobile-menu">‚ò∞</div>
                
                <nav>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#services">Services</a></li>
                        <li><a href="#portfolio">Recently Work</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </nav>
                
                <a href="#contact" class="btn header-cta">Request A Quote</a>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="container">
                <h1>Tree Feller for Safe and Efficient Tree Removal</h1>
                <p>Welcome to The Village Feller, your trusted destination for top-notch tree felling and landscaping services with a bit of construction work as well.Our team of skilled professionals are dedicated to providing safe and efficient tree removal solutions to ensure the beauty and safety of your surroundings.</p>
                <div class="hero-buttons">
                    <a href="#contact" class="btn">Request A Quote</a>
                    <a href="#about" class="btn btn-outline">Learn More</a>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="about" id="about">
            <div class="container">
                <h2 class="section-title">Committed to Excellence in Tree Felling and Landscaping</h2>
                <div class="about-content">
                    <div class="about-text">
                        <p>We are a dedicated team of professionals with years of experience in the tree felling industry. Our mission is to enhance the beauty and safety of landscapes through our expert services.</p>
                        <p>At Village Feller, we combine traditional techniques with modern equipment to deliver exceptional results for every project, big or small.</p>
                        <a href="#contact" class="btn">Contact Us</a>
                    </div>
                    <div class="about-image">
                        <img src="./img/30.jpeg" alt="Tree felling professional at work">
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section class="services" id="services">
            <div class="container">
                <h2 class="section-title">Our Services</h2>
                <div class="services-grid">
                    <!-- Tree Felling -->
                    <div class="service-card">
                        <div class="service-image" style="background-image: url('./img/Tree\ Felling\ \ Removal.jpeg ');"></div>
                        <div class="service-content">
                            <h3>Tree Felling / Removal</h3>
                            <p>Safe and efficient removal of trees of all sizes, using industry best practices to ensure safety and minimal disruption.</p>
                            <a href="#contact" class="btn">Request A Quote</a>
                        </div>
                    </div>
                    
                    <!-- Stump Removal -->
                    <div class="service-card">
                        <div class="service-image" style="background-image: url('./img/Stump\ Removal.jpeg');"></div>
                        <div class="service-content">
                            <h3>Stump Removal</h3>
                            <p>Complete stump extraction and grinding services to remove unsightly stumps and prevent regrowth.</p>
                            <a href="#contact" class="btn">Request A Quote</a>
                        </div>
                    </div>
                    
                    <!-- Tree Trimming -->
                    <div class="service-card">
                        <div class="service-image" style="background-image: url('./img/Tree\ Trimming\ \ Pruning.jpeg');"></div>
                        <div class="service-content">
                            <h3>Tree Trimming / Pruning</h3>
                            <p>Expert trimming and pruning to maintain tree health, improve appearance, and ensure safety.</p>
                            <a href="#contact" class="btn">Request A Quote</a>
                        </div>
                    </div>
                    
                    <!-- Palm Shaving -->
                    <div class="service-card">
                        <div class="service-image" style="background-image: url('./img/palm\ tree\ shaving.jpeg');"></div>
                        <div class="service-content">
                            <h3>Palm Shaving</h3>
                            <p>Specialized palm tree maintenance to keep your palms healthy, safe, and looking their best.</p>
                            <a href="#contact" class="btn">Request A Quote</a>
                        </div>
                    </div>
                    
                    <!-- Plot Clearing -->
                    <div class="service-card">
                        <div class="service-image" style="background-image: url('./img/cleanup.jpeg');"></div>
                        <div class="service-content">
                            <h3>Plot & Site Clearing</h3>
                            <p>Complete vegetation removal services for land development, construction sites, or property maintenance.</p>
                            <a href="#contact" class="btn">Request A Quote</a>
                        </div>
                    </div>
                    
                    <!-- Garden Clean-ups -->
                    <div class="service-card">
                        <div class="service-image" style="background-image: url('./img/garden\ clean-ups.jpeg');"></div>
                        <div class="service-content">
                            <h3>Garden Clean-ups</h3>
                            <p>Comprehensive garden maintenance including weed removal, debris clearing, and general upkeep.</p>
                            <a href="#contact" class="btn">Request A Quote</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Why Choose Us Section -->
        <section class="why-choose-us">
            <div class="container">
                <h2 class="section-title">Why Choose Us ‚Äì Exceptional Tree Felling and Landscaping Services</h2>
                <div class="why-content">
                    <div class="why-column">
                        <h3>Professional Expertise</h3>
                        <p>Our team consists of highly skilled professionals with extensive knowledge in tree felling and landscaping. We stay updated with the latest industry practices and safety standards.</p>
                        <ul>
                            <li>Highly trained and certified arborists</li>
                            <li>State-of-the-art equipment and techniques</li>
                            <li>Comprehensive safety protocols</li>
                            <li>Industry best practices</li>
                        </ul>
                    </div>
                    <div class="why-column">
                        <h3>Customer Satisfaction</h3>
                        <p>We prioritize our clients' needs and work closely with them to deliver personalized solutions that exceed expectations.</p>
                        <ul>
                            <li>Transparent communication throughout the process</li>
                            <li>Tailored solutions for your specific needs</li>
                            <li>Attention to detail in every project</li>
                            <li>Follow-up services and support</li>
                        </ul>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 30px;">
                    <a href="#contact" class="btn">Request A Quote</a>
                </div>
            </div>
        </section>

        <!-- Portfolio Section -->
        <section class="portfolio" id="portfolio">
            <div class="container">
                <h2 class="section-title">Recently Projects</h2>
                <div class="portfolio-grid" id="portfolio-container">
                    <!-- Projects will be loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Achievements Section -->
        <section class="achievements">
            <div class="container">
                <h2 class="section-title" style="color: white;">Setting the Standards in Tree Felling Industry</h2>
                <div class="achievements-grid">
                    <div class="achievement-item">
                        <div class="counter" id="projects-counter">0</div>
                        <p>Projects Completed</p>
                    </div>
                    <div class="achievement-item">
                        <div class="counter" id="clients-counter">0</div>
                        <p>Satisfied Happy Clients</p>
                    </div>
                    <div class="achievement-item">
                        <div class="counter" id="experience-counter">0</div>
                        <p>Years of Experience</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="testimonials">
            <div class="container">
                <h2 class="section-title">What Our Clients Say</h2>
                <div class="testimonial-slider">
                    <div class="testimonial-track" id="testimonial-track">
                        <!-- Testimonial slides will be dynamically added here -->
                    </div>
                    
                    <div class="testimonial-nav">
                        <button class="testimonial-arrow" id="prev-testimonial">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        
                        <div class="testimonial-dots" id="testimonial-dots">
                            <!-- Dots will be dynamically added here -->
                        </div>
                        
                        <button class="testimonial-arrow" id="next-testimonial">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

       <!-- Contact Section -->
<section class="contact" id="contact">
    <div class="container">
        <h2 class="section-title">Request A Quote</h2>
        <div class="contact-container">
            <div class="contact-form">
                <form id="quote-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="service">Service</label>
                        <select id="service" class="form-control" required>
                            <option value="">Select a service</option>
                            <option value="tree-felling">Tree Felling / Removal</option>
                            <option value="stump-removal">Stump Removal</option>
                            <option value="tree-trimming">Tree Trimming / Pruning</option>
                            <option value="palm-shaving">Palm Shaving</option>
                            <option value="site-clearing">Plot & Site Clearing</option>
                            <option value="garden-cleanup">Garden Clean-ups</option>
                            <option value="other">Other Services</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" class="form-control" rows="5" placeholder="Please provide details about your project..."></textarea>
                    </div>
                    <button type="submit" class="btn">Submit Request</button>
                </form>
            </div>
            
            <div class="contact-info">
                <div class="contact-details">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">Contact Information</h3>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 5px;">Phone Numbers</h4>
                            <p style="margin-bottom: 5px;">üìû +27 78 936 6509</p>
                            <p>üì± +27 66 038 7779</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 5px;">Email Address</h4>
                            <p>‚úâÔ∏è info@villagefeller.co.za</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 5px;">Address</h4>
                            <p>üìç 5 Victoria Road, Grassy Park, Cape Town</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 5px;">Business Hours</h4>
                            <p>Monday - Friday: 7:00 AM - 6:00 PM</p>
                            <p>Saturday: 8:00 AM - 4:00 PM</p>
                            <p>Sunday: Emergency Services Only</p>
                        </div>
                    </div>
                </div>
                
                <div class="emergency-contact" style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin-top: 30px;">
                    <h4 style="color: var(--primary); margin-bottom: 15px;">
                        <i class="fas fa-exclamation-triangle"></i> Emergency Services
                    </h4>
                    <p style="margin-bottom: 15px;">For emergency tree removal after hours or on Sundays:</p>
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <i class="fas fa-phone" style="color: #f44336;"></i>
                        <strong>+27 78 936 6509</strong>
                    </div>
                    <p style="font-size: 14px; color: #666;">
                        Available 24/7 for storm damage, fallen trees, and urgent safety concerns.
                    </p>
                </div>
                
                <div class="social-contact" style="margin-top: 30px;">
                    <h4 style="color: var(--primary); margin-bottom: 15px;">Connect With Us</h4>
                    <div style="display: flex; gap: 15px;">
                        <a href="https://www.instagram.com/villagefeller" class="social-link" style="color: var(--primary); font-size: 24px;" target="_blank">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.facebook.com/villagefeller" class="social-link" style="color: var(--primary); font-size: 24px;" target="_blank">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="https://www.linkedin.com/company/villagefeller" class="social-link" style="color: var(--primary); font-size: 24px;" target="_blank">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="https://wa.me/27789366509" class="social-link" style="color: var(--primary); font-size: 24px;" target="_blank">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

        <!-- Footer -->
        <footer>
            <div class="container">
                <div class="footer-container">
                    <div class="footer-column">
                        <img src="./img/footer logo.png" alt="Village Feller Logo" class="footer-logo">
                        <p>Professional tree felling and landscaping services in Cape Town and surrounding areas.</p>
                        <div class="social-icons" style="margin-top: 20px;">
                            <a href="" class="social-icon" style="margin-right: 15px; color: #fff; font-size: 30px;">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="" class="social-icon" style="margin-right: 15px; color: #fff; font-size: 30px;">
                                <i class="fab fa-facebook"></i>
                            </a>
                            <a href="" class="social-icon" style="margin-right: 15px; color: #fff; font-size: 30px;">
                                <i class="fab fa-linkedin"></i>
                            </a>
                        </div>
                    </div>
                    
                    <div class="footer-column">
                        <h3>Navigation</h3>
                        <ul class="footer-links">
                            <li><a href="#home">Home</a></li>
                            <li><a href="#about">About Us</a></li>
                            <li><a href="#services">Services</a></li>
                            <li><a href="#portfolio">Recently Work</a></li>
                            <li><a href="#contact">Contact</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h3>Services</h3>
                        <ul class="footer-links">
                            <li><a href="#services">Tree Felling</a></li>
                            <li><a href="#services">Stump Removal</a></li>
                            <li><a href="#services">Trimming</a></li>
                            <li><a href="#services">Palm Shaving</a></li>
                            <li><a href="#services">Clearing</a></li>
                            <li><a href="#services">Garden Clean-ups</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h3>Contact</h3>
                        <ul class="footer-links">
                            <li>üìû +27 78 936 6509</li>
                            <li>üì± +27 66 038 7779</li>
                            <li>‚úâÔ∏è info@villagefeller.co.za</li>
                            <li>üìç 5 Victoria Road, Grassy Park, Cape Town</li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>Copyright ¬© 2025 Village Feller. All rights reserved | Crafted by 
                        <a href="https://www.shailendralm.co.za">
                            <strong><span class="brand-name">Shailendra Visuals.</span> </strong>
                        </a>
                    </p>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- Admin Portal -->
    <div id="admin-portal">
        <div class="admin-container">
            <div class="admin-header">
                <h1>Admin Portal</h1>
                <p>Upload and manage your portfolio images and statistics directly from your phone or computer.</p>
                <a href="#" class="back-to-site switch-to-main"><i class="fas fa-arrow-left"></i> Back to Website</a>
            </div>
            
            <!-- Login form (initially shown) -->
            <div id="loginSection" class="login-container">
                <div class="login-form admin-card">
                    <h2>Admin Login</h2>
                    <div class="form-group">
                        <label for="adminPassword">Password</label>
                        <input type="password" id="adminPassword" class="form-control" placeholder="Enter admin password">
                        <p class="password-hint">Use password: villagefeller2026!</p>
                    </div>
                    <button id="loginBtn" class="btn btn-full">Login</button>
                </div>
            </div>
            
            <!-- Admin dashboard (initially hidden) -->
            <div id="adminDashboard" style="display: none;">
                <div class="admin-content">
                    <div>
                        <!-- Statistics Management -->
                        <div class="admin-card">
                            <h2>Update Business Statistics</h2>
                            <div id="messageContainer"></div>
                            
                            <div class="form-group">
                                <label for="statsProjects">Projects Completed</label>
                                <input type="number" id="statsProjects" class="form-control" min="0" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="statsClients">Satisfied Clients</label>
                                <input type="number" id="statsClients" class="form-control" min="0" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="statsExperience">Years of Experience</label>
                                <input type="number" id="statsExperience" class="form-control" min="0" required>
                            </div>
                            
                            <button id="updateStatsBtn" class="btn btn-green btn-full">
                                <i class="fas fa-chart-line"></i> Update Statistics
                            </button>
                        </div>
                        
                        <!-- Add New Project -->
                        <div class="admin-card">
                            <h2>Add New Project</h2>
                            <div id="projectMessageContainer"></div>
                            
                            <!-- File Upload Area -->
                            <div class="file-upload-container" id="fileUploadContainer">
                                <div class="file-upload-icon">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </div>
                                <div class="file-upload-text">
                                    <h4>Select or Drop Image</h4>
                                    <p>Choose an image from your device or drag and drop it here</p>
                                    <div class="file-upload-btn" id="browseBtn">
                                        <i class="fas fa-folder-open"></i> Browse Files
                                    </div>
                                    <input type="file" id="imageFile" class="file-input" accept="image/*">
                                </div>
                            </div>
                            
                            <!-- Selected File Info -->
                            <div class="selected-file" id="selectedFile">
                                <div class="file-icon">
                                    <i class="fas fa-image"></i>
                                </div>
                                <div class="file-info">
                                    <h5 id="fileName">No file selected</h5>
                                    <p id="fileSize">0 KB</p>
                                </div>
                            </div>
                            
                            <!-- Image Preview -->
                            <div class="image-preview" id="imagePreview">
                                <img id="previewImage" src="" alt="Image preview">
                            </div>
                            
                            <!-- Project Details -->
                            <div class="form-group">
                                <label for="projectTitle">Project Title</label>
                                <input type="text" id="projectTitle" class="form-control" placeholder="Tree Removal Project" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="projectDescription">Description</label>
                                <textarea id="projectDescription" class="form-control" placeholder="Describe the project"></textarea>
                            </div>
                            
                            <button id="uploadProjectBtn" class="btn btn-green btn-full" disabled>
                                <i class="fas fa-upload"></i> Add Project
                            </button>
                        </div>
                        
                        <!-- Admin Tools -->
                        <div class="admin-card">
                            <h2>Admin Tools</h2>
                            <button id="exportDataBtn" class="btn btn-full" style="margin-bottom: 15px;">
                                <i class="fas fa-download"></i> Export Data
                            </button>
                            <input type="file" id="importFile" class="file-input" accept=".json" style="display: none;">
                            <button id="resetDataBtn" class="btn btn-full" style="margin-bottom: 15px;">
                                <i class="fas fa-redo"></i> Reset to Default
                            </button>
                            <button id="logoutAdminBtn" class="btn btn-full">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <!-- Manage Projects -->
                        <div class="gallery-management admin-card">
                            <h2>Manage Portfolio Projects</h2>
                            <p>Click the delete button to remove a project from the portfolio.</p>
                            <div id="galleryCount" class="message info">
                                Loading projects...
                            </div>
                            
                            <div id="galleryList" class="gallery-list">
                                <!-- Projects will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
<script>
    // ========== CONFIGURATION ==========
    const ADMIN_PASSWORD = "villagefeller2026!";
    const SERVER_URL = window.location.origin; // Current domain
    
    // ========== GLOBAL DATA ==========
    let userProjects = [];
    let manualProjects = []; // Will be loaded from server
    
    let statistics = {
        projects: 1459,
        clients: 900,
        experience: 12
    };
    
    // Testimonial data
    const testimonials = [
        {
            name: "Mike T.",
            rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ",
            text: "The Village Fellers team did an excellent job removing a large tree from my backyard. They were professional, safe, and cleaned up perfectly afterwards. Highly recommended!",
            avatar: "https://randomuser.me/api/portraits/men/32.jpg"
        },
        {
            name: "Amanda K.",
            rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ",
            text: "I needed stump removal after a storm damaged my property. The team was punctual, careful with my garden, and did a fantastic job. Will definitely use them again!",
            avatar: "https://randomuser.me/api/portraits/women/44.jpg"
        },
        {
            name: "James T.",
            rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ",
            text: "Professional tree trimming service that transformed my overgrown yard. The team was skilled, efficient, and the final result looks amazing. Very happy with their work!",
            avatar: "https://randomuser.me/api/portraits/men/67.jpg"
        },
        {
            name: "Sarah L.",
            rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ",
            text: "The palm shaving service was excellent! My palm trees look so much better and healthier now. The team was knowledgeable and did a fantastic job cleaning up afterwards.",
            avatar: "https://randomuser.me/api/portraits/women/68.jpg"
        }
    ];
    
    // ========== ADMIN PORTAL FUNCTIONALITY ==========
    
    // Floating admin button functionality
    const floatingAdminBtn = document.getElementById('floatingAdminBtn');
    
    if (floatingAdminBtn) {
        floatingAdminBtn.addEventListener('click', function() {
            if (document.body.classList.contains('admin-mode')) {
                modeToggleBtns.forEach(b => b.classList.remove('active'));
                document.querySelector('.mode-toggle-btn[data-mode="main"]').classList.add('active');
                document.body.className = 'main-mode';
                this.classList.remove('admin-active');
            } else {
                modeToggleBtns.forEach(b => b.classList.remove('active'));
                document.querySelector('.mode-toggle-btn[data-mode="admin"]').classList.add('active');
                document.body.className = 'admin-mode';
                this.classList.add('admin-active');
                checkLoginStatus();
            }
        });
    }
    
    // Mode switching
    const modeToggleBtns = document.querySelectorAll('.mode-toggle-btn');
    const switchToMainBtn = document.querySelector('.switch-to-main');
    
    modeToggleBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const mode = this.dataset.mode;
            modeToggleBtns.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            document.body.className = `${mode}-mode`;
            
            if (floatingAdminBtn) {
                if (mode === 'admin') {
                    floatingAdminBtn.classList.add('admin-active');
                    checkLoginStatus();
                } else {
                    floatingAdminBtn.classList.remove('admin-active');
                }
            }
        });
    });
    
    if (switchToMainBtn) {
        switchToMainBtn.addEventListener('click', function(e) {
            e.preventDefault();
            modeToggleBtns.forEach(b => b.classList.remove('active'));
            document.querySelector('.mode-toggle-btn[data-mode="main"]').classList.add('active');
            document.body.className = 'main-mode';
            if (floatingAdminBtn) floatingAdminBtn.classList.remove('admin-active');
        });
    }
    
    // ========== SERVER FUNCTIONS ==========
    
    // Load all projects from server (both manual and user)
    async function loadAllProjectsFromServer() {
        try {
            const response = await fetch('get_gallery.php?all=true');
            if (response.ok) {
                const data = await response.json();
                if (data.manualProjects && data.userProjects) {
                    manualProjects = data.manualProjects;
                    userProjects = data.userProjects;
                    console.log('Loaded manual projects:', manualProjects.length);
                    console.log('Loaded user projects:', userProjects.length);
                    return true;
                }
            }
            console.error('Failed to load projects from server');
            loadProjectsFromLocalStorage();
        } catch (error) {
            console.error('Error loading projects from server:', error);
            loadProjectsFromLocalStorage();
        }
        return false;
    }
    
    // Upload image to server
    async function uploadImageToServer(file, title, description) {
        try {
            const formData = new FormData();
            formData.append('image', file);
            formData.append('title', title);
            formData.append('description', description);
            
            const response = await fetch('upload_image.php', {
                method: 'POST',
                body: formData
            });
            
            if (!response.ok) {
                throw new Error(`Server responded with ${response.status}`);
            }
            
            const result = await response.json();
            return result;
        } catch (error) {
            console.error('Error uploading image:', error);
            throw error;
        }
    }
    
    // Delete project from server
    async function deleteProjectFromServer(projectId, projectType) {
        try {
            const response = await fetch('delete_image.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ 
                    id: projectId,
                    type: projectType // 'manual' or 'user'
                })
            });
            
            if (!response.ok) {
                throw new Error(`Server responded with ${response.status}`);
            }
            
            const result = await response.json();
            return result.success;
        } catch (error) {
            console.error('Error deleting project:', error);
            return false;
        }
    }
    
    // ========== LOCAL STORAGE FALLBACK ==========
    
    function loadProjectsFromLocalStorage() {
        // Load manual projects (initial ones)
        const defaultManualProjects = [
            { id: 'manual-1', title: "Project 1", description: "Tree removal project", image: "./img/5.jpeg", isManual: true },
            { id: 'manual-2', title: "Project 2", description: "Stump grinding work", image: "./img/6.jpeg", isManual: true },
            { id: 'manual-3', title: "Project 3", description: "Tree trimming service", image: "./img/7.jpeg", isManual: true },
            { id: 'manual-4', title: "Project 4", description: "Site clearing project", image: "./img/8.jpeg", isManual: true },
            { id: 'manual-5', title: "Project 5", description: "Garden cleanup work", image: "./img/9.jpeg", isManual: true },
            { id: 'manual-6', title: "Project 6", description: "Palm tree maintenance", image: "./img/10.jpeg", isManual: true }
        ];
        
        manualProjects = defaultManualProjects;
        
        // Load user projects
        const savedProjects = localStorage.getItem('villageFellerUserProjects');
        if (savedProjects) {
            try {
                userProjects = JSON.parse(savedProjects);
            } catch (error) {
                console.error('Error parsing projects:', error);
                userProjects = [];
            }
        }
    }
    
    function saveProjectsToLocalStorage() {
        localStorage.setItem('villageFellerUserProjects', JSON.stringify(userProjects));
    }
    
    // Load statistics
    function loadStatistics() {
        const savedStats = localStorage.getItem('villageFellerStatistics');
        if (savedStats) {
            try {
                statistics = JSON.parse(savedStats);
            } catch (error) {
                console.error('Error parsing statistics:', error);
            }
        }
    }
    
    function saveStatisticsToLocalStorage() {
        localStorage.setItem('villageFellerStatistics', JSON.stringify(statistics));
    }
    
    // ========== PROJECT MANAGEMENT ==========
    
    // Add project (with server upload)
    async function addProject(title, description, imageFile) {
        try {
            // Try to upload to server first
            const uploadResult = await uploadImageToServer(imageFile, title, description);
            
            if (uploadResult.success) {
                const newProject = {
                    id: uploadResult.id || Date.now().toString(),
                    title: title,
                    description: description,
                    image: uploadResult.imageUrl || `img/${uploadResult.fileName}`,
                    isManual: false,
                    uploaded: new Date().toISOString(),
                    serverId: uploadResult.id,
                    fileName: uploadResult.fileName
                };
                
                userProjects.push(newProject);
                saveProjectsToLocalStorage();
                initializePortfolio();
                if (document.body.classList.contains('admin-mode')) {
                    renderAdminGalleryList();
                }
                
                return {
                    success: true,
                    message: 'Project uploaded to server successfully!',
                    project: newProject
                };
            } else {
                throw new Error(uploadResult.message || 'Upload failed');
            }
            
        } catch (error) {
            console.log('Server upload failed, using localStorage fallback');
            
            // Fallback to localStorage with data URL
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const project = {
                        id: Date.now().toString(),
                        title: title,
                        description: description,
                        image: e.target.result,
                        isManual: false,
                        uploaded: new Date().toISOString()
                    };
                    
                    userProjects.push(project);
                    saveProjectsToLocalStorage();
                    initializePortfolio();
                    if (document.body.classList.contains('admin-mode')) {
                        renderAdminGalleryList();
                    }
                    
                    resolve({
                        success: true,
                        message: 'Project added (using local storage)',
                        project: project
                    });
                };
                reader.onerror = () => {
                    resolve({
                        success: false,
                        message: 'Failed to read image file'
                    });
                };
                reader.readAsDataURL(imageFile);
            });
        }
    }
    
    // Delete project (both manual and user)
    async function deleteProject(projectId, projectType, index) {
        if (!confirm('Are you sure you want to delete this project?')) {
            return;
        }
        
        try {
            let deleteSuccess = false;
            
            // Try to delete from server
            deleteSuccess = await deleteProjectFromServer(projectId, projectType);
            
            if (deleteSuccess || projectType === 'manual') {
                // Remove from appropriate array
                if (projectType === 'manual') {
                    manualProjects.splice(index, 1);
                } else {
                    userProjects.splice(index, 1);
                    saveProjectsToLocalStorage();
                }
                
                initializePortfolio();
                if (document.body.classList.contains('admin-mode')) {
                    renderAdminGalleryList();
                }
                
                showMessage('Project deleted successfully!', 'success');
            } else {
                showMessage('Failed to delete from server', 'error');
            }
        } catch (error) {
            console.error('Error deleting project:', error);
            showMessage('Error deleting project', 'error');
        }
    }
    
    // ========== WEBSITE FUNCTIONALITY ==========
    
    // Initialize portfolio display
    function initializePortfolio() {
        const portfolioContainer = document.getElementById('portfolio-container');
        if (!portfolioContainer) return;
        
        portfolioContainer.innerHTML = '';
        
        // Add manual projects first
        manualProjects.forEach((project, index) => {
            const portfolioItem = document.createElement('div');
            portfolioItem.className = 'portfolio-item';
            portfolioItem.style.backgroundImage = `url('${project.image}')`;
            portfolioItem.title = `${project.title}: ${project.description}`;
            portfolioItem.dataset.id = project.id;
            portfolioItem.dataset.type = 'manual';
            portfolioItem.dataset.index = index;
            
            // Add overlay with title
            const overlay = document.createElement('div');
            overlay.style.position = 'absolute';
            overlay.style.bottom = '0';
            overlay.style.left = '0';
            overlay.style.right = '0';
            overlay.style.backgroundColor = 'rgba(0,0,0,0.7)';
            overlay.style.color = 'white';
            overlay.style.padding = '8px';
            overlay.style.fontSize = '12px';
            overlay.innerHTML = `<strong>${project.title}</strong>`;
            
            portfolioItem.appendChild(overlay);
            portfolioContainer.appendChild(portfolioItem);
        });
        
        // Add user projects
        userProjects.forEach((project, index) => {
            const portfolioItem = document.createElement('div');
            portfolioItem.className = 'portfolio-item';
            portfolioItem.style.backgroundImage = `url('${project.image}')`;
            portfolioItem.title = `${project.title}: ${project.description || 'User uploaded project'}`;
            portfolioItem.dataset.id = project.id;
            portfolioItem.dataset.type = 'user';
            portfolioItem.dataset.index = index;
            
            // Add overlay with title and "New" badge
            const overlay = document.createElement('div');
            overlay.style.position = 'absolute';
            overlay.style.bottom = '0';
            overlay.style.left = '0';
            overlay.style.right = '0';
            overlay.style.backgroundColor = 'rgba(46, 125, 50, 0.8)';
            overlay.style.color = 'white';
            overlay.style.padding = '8px';
            overlay.style.fontSize = '12px';
            overlay.innerHTML = `
                <strong>${project.title}</strong>
                <span style="float: right; background: #ff9800; padding: 2px 6px; border-radius: 10px; font-size: 10px;">NEW</span>
            `;
            
            portfolioItem.appendChild(overlay);
            portfolioContainer.appendChild(portfolioItem);
        });
    }
    
    // Update counters display
    function updateCounters() {
        const projectsCounter = document.getElementById('projects-counter');
        const clientsCounter = document.getElementById('clients-counter');
        const experienceCounter = document.getElementById('experience-counter');
        
        if (projectsCounter) projectsCounter.textContent = statistics.projects;
        if (clientsCounter) clientsCounter.textContent = statistics.clients;
        if (experienceCounter) experienceCounter.textContent = statistics.experience;
    }
    
    // Animate counters
    function animateCounter(element, target, duration) {
        let start = 0;
        const increment = target / (duration / 16);
        
        const updateCounter = () => {
            start += increment;
            if (start < target) {
                element.textContent = Math.floor(start);
                requestAnimationFrame(updateCounter);
            } else {
                element.textContent = target;
                element.classList.add('counting');
            }
        };
        
        updateCounter();
    }
    
    // Initialize counters when in view
    function initializeCounters() {
        const projectsCounter = document.getElementById('projects-counter');
        const clientsCounter = document.getElementById('clients-counter');
        const experienceCounter = document.getElementById('experience-counter');
        
        animateCounter(projectsCounter, statistics.projects, 2000);
        animateCounter(clientsCounter, statistics.clients, 2000);
        animateCounter(experienceCounter, statistics.experience, 2000);
    }
    
    // Testimonial slider functionality
    let currentTestimonial = 0;
    
    function initializeTestimonialSlider() {
        const track = document.getElementById('testimonial-track');
        const dotsContainer = document.getElementById('testimonial-dots');
        
        if (!track || !dotsContainer) return;
        
        // Create testimonial slides
        testimonials.forEach((testimonial, index) => {
            const slide = document.createElement('div');
            slide.className = 'testimonial-slide';
            
            slide.innerHTML = `
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <div class="testimonial-avatar" style="background-image: url('${testimonial.avatar}');"></div>
                        <div class="testimonial-info">
                            <h4>${testimonial.name}</h4>
                            <div class="testimonial-rating">${testimonial.rating}</div>
                        </div>
                    </div>
                    <p class="testimonial-text">${testimonial.text}</p>
                </div>
            `;
            
            track.appendChild(slide);
            
            // Create dots
            const dot = document.createElement('div');
            dot.className = 'testimonial-dot';
            if (index === 0) dot.classList.add('active');
            dot.addEventListener('click', () => goToTestimonial(index));
            dotsContainer.appendChild(dot);
        });
        
        // Set up navigation
        const prevBtn = document.getElementById('prev-testimonial');
        const nextBtn = document.getElementById('next-testimonial');
        
        if (prevBtn) {
            prevBtn.addEventListener('click', () => {
                goToTestimonial(currentTestimonial - 1);
            });
        }
        
        if (nextBtn) {
            nextBtn.addEventListener('click', () => {
                goToTestimonial(currentTestimonial + 1);
            });
        }
        
        // Auto-advance testimonials
        setInterval(() => {
            goToTestimonial(currentTestimonial + 1);
        }, 5000);
    }
    
    function goToTestimonial(index) {
        const track = document.getElementById('testimonial-track');
        const dots = document.querySelectorAll('.testimonial-dot');
        const totalTestimonials = testimonials.length;
        
        if (!track || dots.length === 0) return;
        
        // Handle wrap-around
        if (index >= totalTestimonials) {
            index = 0;
        } else if (index < 0) {
            index = totalTestimonials - 1;
        }
        
        // Update current testimonial
        currentTestimonial = index;
        
        // Move track
        track.style.transform = `translateX(-${currentTestimonial * 100}%)`;
        
        // Update dots
        dots.forEach((dot, i) => {
            if (i === currentTestimonial) {
                dot.classList.add('active');
            } else {
                dot.classList.remove('active');
            }
        });
    }
    
    // Mobile menu toggle
    const mobileMenuBtn = document.querySelector('.mobile-menu');
    const mainNav = document.querySelector('nav');
    
    if (mobileMenuBtn && mainNav) {
        mobileMenuBtn.addEventListener('click', () => {
            mainNav.classList.toggle('active');
            mobileMenuBtn.innerHTML = mainNav.classList.contains('active')
                ? '‚úï'
                : '‚ò∞';
        });
        
        // Close mobile menu when clicking on a link
        const navLinks = document.querySelectorAll('nav a');
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                mainNav.classList.remove('active');
                mobileMenuBtn.innerHTML = '‚ò∞';
            });
        });
    }
    
    // Smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
                
                // Close mobile menu if open
                if (mainNav) {
                    mainNav.classList.remove('active');
                    if (mobileMenuBtn) mobileMenuBtn.innerHTML = '‚ò∞';
                }
            }
        });
    });
    
    // Contact form submission
    const contactForm = document.getElementById('quote-form');
    if (contactForm) {
        contactForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Sending...';
            submitBtn.disabled = true;
            
            // Collect form data
            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                service: document.getElementById('service').value,
                message: document.getElementById('message').value,
                timestamp: new Date().toISOString()
            };
            
            try {
                // Send to PHP script
                const response = await fetch('sendmail.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    alert('Thank you for your request! We will contact you shortly.');
                    this.reset();
                } else {
                    alert('There was an error sending your request. Please try again or call us directly.');
                }
            } catch (error) {
                console.error('Form submission error:', error);
                alert('Network error. Please try again or call us directly.');
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });
    }
    
    // ========== ADMIN FUNCTIONALITY ==========
    
    // Check login status
    function checkLoginStatus() {
        const isLoggedIn = localStorage.getItem('villageFellerAdminLoggedIn') === 'true';
        if (isLoggedIn) {
            showAdminDashboard();
        }
    }
    
    // Show message
    function showMessage(text, type, containerId = 'messageContainer') {
        const messageContainer = document.getElementById(containerId);
        if (messageContainer) {
            messageContainer.innerHTML = `<div class="message ${type}">${text}</div>`;
            
            setTimeout(() => {
                messageContainer.innerHTML = '';
            }, 5000);
        }
    }
    
    // Format file size
    function formatFileSize(bytes) {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }
    
    // Login function
    const loginBtn = document.getElementById('loginBtn');
    if (loginBtn) {
        loginBtn.addEventListener('click', () => {
            const passwordInput = document.getElementById('adminPassword');
            const password = passwordInput ? passwordInput.value : '';
            
            if (password === ADMIN_PASSWORD) {
                localStorage.setItem('villageFellerAdminLoggedIn', 'true');
                showAdminDashboard();
                showMessage('Login successful!', 'success');
            } else {
                showMessage('Incorrect password. Please try again.', 'error');
            }
        });
    }
    
    // Logout function
    const logoutAdminBtn = document.getElementById('logoutAdminBtn');
    if (logoutAdminBtn) {
        logoutAdminBtn.addEventListener('click', () => {
            localStorage.removeItem('villageFellerAdminLoggedIn');
            const adminDashboard = document.getElementById('adminDashboard');
            const loginSection = document.getElementById('loginSection');
            const adminPasswordInput = document.getElementById('adminPassword');
            
            if (adminDashboard) adminDashboard.style.display = 'none';
            if (loginSection) loginSection.style.display = 'block';
            if (adminPasswordInput) adminPasswordInput.value = '';
            
            showMessage('Logged out successfully!', 'success');
        });
    }
    
    // Show admin dashboard
    function showAdminDashboard() {
        const loginSection = document.getElementById('loginSection');
        const adminDashboard = document.getElementById('adminDashboard');
        
        if (loginSection) loginSection.style.display = 'none';
        if (adminDashboard) {
            adminDashboard.style.display = 'block';
            renderAdminGalleryList();
            loadStatisticsForm();
        }
    }
    
    // Render admin gallery list - UPDATED TO SHOW ALL PROJECTS WITH DELETE BUTTONS
    function renderAdminGalleryList() {
        const adminGalleryList = document.getElementById('galleryList');
        if (!adminGalleryList) return;
        
        adminGalleryList.innerHTML = '';
        
        // Calculate total projects (manual + user)
        const totalProjects = manualProjects.length + userProjects.length;
        
        const galleryCount = document.getElementById('galleryCount');
        if (galleryCount) {
            galleryCount.textContent = `Total: ${totalProjects} projects (${manualProjects.length} manual + ${userProjects.length} user uploaded)`;
            galleryCount.className = 'message info';
        }
        
        if (totalProjects === 0) {
            adminGalleryList.innerHTML = '<div class="message info">No projects to display.</div>';
            return;
        }
        
        // Display manual projects first
        manualProjects.forEach((project, index) => {
            const galleryItem = document.createElement('div');
            galleryItem.className = 'gallery-item';
            galleryItem.innerHTML = `
                <img src="${project.image}" alt="${project.title}" onerror="this.src='https://via.placeholder.com/300x200?text=Image+Not+Found'">
                <div class="gallery-item-info">
                    <h4>${project.title}</h4>
                    <p>${project.description || 'No description'}</p>
                    <div class="category-badge">Manual Project</div>
                    <div class="gallery-item-actions" style="margin-top: 10px;">
                        <button class="btn delete-btn" data-id="${project.id}" data-type="manual" data-index="${index}" style="background-color: #f44336;">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                </div>
            `;
            adminGalleryList.appendChild(galleryItem);
        });
        
        // Display user projects
        userProjects.forEach((project, index) => {
            const galleryItem = document.createElement('div');
            galleryItem.className = 'gallery-item';
            galleryItem.innerHTML = `
                <img src="${project.image}" alt="${project.title}" onerror="this.src='https://via.placeholder.com/300x200?text=Image+Not+Found'">
                <div class="gallery-item-info">
                    <h4>${project.title}</h4>
                    <p>${project.description || 'No description'}</p>
                    <div class="category-badge" style="background-color: #e3f2fd; color: #1565c0;">User Uploaded</div>
                    <div class="gallery-item-actions" style="margin-top: 10px;">
                        <button class="btn delete-btn" data-id="${project.id}" data-type="user" data-index="${index}" style="background-color: #f44336;">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                </div>
            `;
            adminGalleryList.appendChild(galleryItem);
        });
        
        // Add event listeners to delete buttons
        document.querySelectorAll('.delete-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const id = this.dataset.id;
                const type = this.dataset.type;
                const index = parseInt(this.dataset.index);
                deleteProject(id, type, index);
            });
        });
    }
    
    // Load statistics form
    function loadStatisticsForm() {
        const statsProjects = document.getElementById('statsProjects');
        const statsClients = document.getElementById('statsClients');
        const statsExperience = document.getElementById('statsExperience');
        
        if (statsProjects) statsProjects.value = statistics.projects;
        if (statsClients) statsClients.value = statistics.clients;
        if (statsExperience) statsExperience.value = statistics.experience;
    }
    
    // Update statistics
    const updateStatsBtn = document.getElementById('updateStatsBtn');
    if (updateStatsBtn) {
        updateStatsBtn.addEventListener('click', () => {
            const statsProjects = document.getElementById('statsProjects');
            const statsClients = document.getElementById('statsClients');
            const statsExperience = document.getElementById('statsExperience');
            
            if (!statsProjects || !statsClients || !statsExperience) return;
            
            statistics.projects = parseInt(statsProjects.value) || 0;
            statistics.clients = parseInt(statsClients.value) || 0;
            statistics.experience = parseInt(statsExperience.value) || 0;
            
            saveStatisticsToLocalStorage();
            updateCounters();
            showMessage('Statistics updated successfully!', 'success');
        });
    }
    
    // File upload handling
    let selectedImageFile = null;
    
    // Handle file selection for admin
    const browseBtn = document.getElementById('browseBtn');
    const imageFileInput = document.getElementById('imageFile');
    
    if (browseBtn && imageFileInput) {
        browseBtn.addEventListener('click', () => {
            imageFileInput.click();
        });
        
        imageFileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleFileSelect(e.target.files[0]);
            }
        });
    }
    
    // Handle drag and drop for admin
    const fileUploadContainer = document.getElementById('fileUploadContainer');
    if (fileUploadContainer) {
        fileUploadContainer.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUploadContainer.classList.add('drag-over');
        });
        
        fileUploadContainer.addEventListener('dragleave', () => {
            fileUploadContainer.classList.remove('drag-over');
        });
        
        fileUploadContainer.addEventListener('drop', (e) => {
            e.preventDefault();
            fileUploadContainer.classList.remove('drag-over');
            
            if (e.dataTransfer.files.length > 0) {
                handleFileSelect(e.dataTransfer.files[0]);
            }
        });
    }
    
    // Handle file selection
    function handleFileSelect(file) {
        if (!file.type.match('image.*')) {
            showMessage('Please select an image file (JPEG, PNG, etc.)', 'error', 'projectMessageContainer');
            return;
        }
        
        const maxSize = 5 * 1024 * 1024;
        if (file.size > maxSize) {
            showMessage('Image size should be less than 5MB', 'error', 'projectMessageContainer');
            return;
        }
        
        selectedImageFile = file;
        
        const fileName = document.getElementById('fileName');
        const fileSize = document.getElementById('fileSize');
        const selectedFile = document.getElementById('selectedFile');
        
        if (fileName) fileName.textContent = file.name;
        if (fileSize) fileSize.textContent = formatFileSize(file.size);
        if (selectedFile) selectedFile.classList.add('active');
        
        const reader = new FileReader();
        reader.onload = function(e) {
            const previewImage = document.getElementById('previewImage');
            const imagePreview = document.getElementById('imagePreview');
            if (previewImage) previewImage.src = e.target.result;
            if (imagePreview) imagePreview.classList.add('active');
        };
        reader.readAsDataURL(file);
        
        checkFormValidity();
        showMessage('Image selected successfully!', 'success', 'projectMessageContainer');
    }
    
    // Check if form is valid
    function checkFormValidity() {
        const projectTitle = document.getElementById('projectTitle');
        const uploadProjectBtn = document.getElementById('uploadProjectBtn');
        
        const isTitleValid = projectTitle && projectTitle.value.trim().length > 0;
        const hasImage = selectedImageFile !== null;
        
        if (uploadProjectBtn) {
            uploadProjectBtn.disabled = !(isTitleValid && hasImage);
        }
    }
    
    // Listen for form input changes
    const projectTitleInput = document.getElementById('projectTitle');
    if (projectTitleInput) {
        projectTitleInput.addEventListener('input', checkFormValidity);
    }
    
    const projectDescriptionInput = document.getElementById('projectDescription');
    if (projectDescriptionInput) {
        projectDescriptionInput.addEventListener('input', checkFormValidity);
    }
    
    // Upload project
    const uploadProjectBtn = document.getElementById('uploadProjectBtn');
    if (uploadProjectBtn) {
        uploadProjectBtn.addEventListener('click', async () => {
            if (!selectedImageFile) {
                showMessage('Please select an image first', 'error', 'projectMessageContainer');
                return;
            }
            
            const title = projectTitleInput ? projectTitleInput.value.trim() : '';
            const description = projectDescriptionInput ? projectDescriptionInput.value.trim() : '';
            
            if (!title) {
                showMessage('Please enter a project title', 'error', 'projectMessageContainer');
                return;
            }
            
            const originalText = uploadProjectBtn.innerHTML;
            uploadProjectBtn.innerHTML = '<span class="spinner"></span> Uploading...';
            uploadProjectBtn.disabled = true;
            
            try {
                const result = await addProject(title, description, selectedImageFile);
                
                if (result.success) {
                    // Reset form
                    resetAdminForm();
                    showMessage(result.message, 'success', 'projectMessageContainer');
                } else {
                    showMessage(result.message || 'Failed to add project', 'error', 'projectMessageContainer');
                }
            } catch (error) {
                console.error('Upload error:', error);
                showMessage('Error uploading project: ' + error.message, 'error', 'projectMessageContainer');
            }
            
            uploadProjectBtn.innerHTML = originalText;
            uploadProjectBtn.disabled = false;
        });
    }
    
    // Reset admin form
    function resetAdminForm() {
        if (projectTitleInput) projectTitleInput.value = '';
        if (projectDescriptionInput) projectDescriptionInput.value = '';
        selectedImageFile = null;
        const selectedFile = document.getElementById('selectedFile');
        if (selectedFile) selectedFile.classList.remove('active');
        const imagePreview = document.getElementById('imagePreview');
        if (imagePreview) imagePreview.classList.remove('active');
        const previewImage = document.getElementById('previewImage');
        if (previewImage) previewImage.src = '';
        if (imageFileInput) imageFileInput.value = '';
    }
    
    // Export data
    const exportDataBtn = document.getElementById('exportDataBtn');
    if (exportDataBtn) {
        exportDataBtn.addEventListener('click', () => {
            const data = {
                manualProjects: manualProjects,
                userProjects: userProjects,
                statistics: statistics,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = 'village-feller-data-backup.json';
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showMessage('Data exported successfully!', 'success');
        });
    }
    
    // Import data
    const importFileInput = document.getElementById('importFile');
    if (importFileInput) {
        importFileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                const file = e.target.files[0];
                
                if (!file.name.endsWith('.json')) {
                    showMessage('Please select a JSON file', 'error');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const importedData = JSON.parse(e.target.result);
                        
                        if (!importedData.manualProjects || !importedData.userProjects || !importedData.statistics) {
                            showMessage('Invalid data format', 'error');
                            return;
                        }
                        
                        if (confirm(`Import ${importedData.manualProjects.length} manual projects and ${importedData.userProjects.length} user projects? This will replace your current data.`)) {
                            manualProjects = importedData.manualProjects;
                            userProjects = importedData.userProjects;
                            statistics = importedData.statistics;
                            saveProjectsToLocalStorage();
                            saveStatisticsToLocalStorage();
                            initializePortfolio();
                            updateCounters();
                            renderAdminGalleryList();
                            loadStatisticsForm();
                            showMessage(`Successfully imported ${manualProjects.length + userProjects.length} projects!`, 'success');
                        }
                    } catch (error) {
                        showMessage('Error parsing JSON file: ' + error.message, 'error');
                    }
                };
                
                reader.readAsText(file);
                importFileInput.value = '';
            }
        });
    }
    
    // Reset data
    const resetDataBtn = document.getElementById('resetDataBtn');
    if (resetDataBtn) {
        resetDataBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to reset all data to default? This will remove ALL projects and reset statistics.')) {
                // Reset to initial manual projects
                manualProjects = [
                    { id: 'manual-1', title: "Project 1", description: "Tree removal project", image: "./img/5.jpeg", isManual: true },
                    { id: 'manual-2', title: "Project 2", description: "Stump grinding work", image: "./img/6.jpeg", isManual: true },
                    { id: 'manual-3', title: "Project 3", description: "Tree trimming service", image: "./img/7.jpeg", isManual: true },
                    { id: 'manual-4', title: "Project 4", description: "Site clearing project", image: "./img/8.jpeg", isManual: true },
                    { id: 'manual-5', title: "Project 5", description: "Garden cleanup work", image: "./img/9.jpeg", isManual: true },
                    { id: 'manual-6', title: "Project 6", description: "Palm tree maintenance", image: "./img/10.jpeg", isManual: true }
                ];
                
                userProjects = [];
                statistics = { projects: 1459, clients: 900, experience: 12 };
                saveProjectsToLocalStorage();
                saveStatisticsToLocalStorage();
                initializePortfolio();
                updateCounters();
                renderAdminGalleryList();
                loadStatisticsForm();
                showMessage('Data reset to default!', 'success');
            }
        });
    }
    
    // Allow Enter key to submit login form
    const adminPasswordInput = document.getElementById('adminPassword');
    if (adminPasswordInput) {
        adminPasswordInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && loginBtn) {
                loginBtn.click();
            }
        });
    }
    
    // ========== INITIALIZATION ==========
    
    // Initialize everything on page load
    document.addEventListener('DOMContentLoaded', async function() {
        // Load data
        loadStatistics();
        
        // Try to load projects from server first
        const loadedFromServer = await loadAllProjectsFromServer();
        if (!loadedFromServer) {
            loadProjectsFromLocalStorage();
        }
        
        // Initialize website components
        initializePortfolio();
        updateCounters();
        initializeTestimonialSlider();
        
        // Set up intersection observer for counters
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    initializeCounters();
                    observer.unobserve(entry.target);
                }
            });
        });
        
        const achievementsSection = document.querySelector('.achievements');
        if (achievementsSection) {
            observer.observe(achievementsSection);
        }
        
        // Check login status if we're in admin mode
        if (document.body.classList.contains('admin-mode')) {
            checkLoginStatus();
        }
        
        console.log('Village Feller Website Initialized');
        console.log('Manual projects:', manualProjects.length);
        console.log('User projects:', userProjects.length);
        console.log('Server URL:', SERVER_URL);
    });
</script>
</body>
</html>               
